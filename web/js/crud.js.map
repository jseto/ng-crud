{"version":3,"file":"web/js/crud.min.js","sources":["src/clt/crud.module.js","src/clt/CrudController.js","src/clt/CrudDirectives.js","src/clt/CrudFilters.js","src/clt/CrudService.js"],"names":["angular","module","controller","$scope","$http","$route","$location","paths","current","originalPath","split","_crud","collectionName","collection","collectionMeta","metaData","action","console","log","item","get","success","data","$parent","items","params","id","Error","doSubmit","verb","httpAction","doDelete","modalId","$","on","toDelete","undefined","_id","reload","prepareDelete","idx","extraPath","toUpperCase","path","error","status","headers","config","directive","restrict","scope","formInputScope","link","formInputLink","template","formInputHeader","formInputFooter","element","attrs","fieldMeta","$eval","listModel","templateUrl","$compile","tag","inputType","html","inputAttrs","prop","hasOwnProperty","append","label","placeholder","model","autofocus","inputElement","find","setTimeout","focus","attr","filter","crud","singularize","provider","this","$get","setMetaData","routesForCollection","collectionMetadata","completeMetadataDefaults","metadata","collName","collMeta","tableName","ucFirst","itemName","fieldOrder","Object","keys","fields","i","length","completeFieldDefaults","name","field","colLabel","cellRender","identity","showInTable","x","str","charAt","substr","plural","toLowerCase","irregulars","mice","teeth","singular","warn","$routeProvider","ctrl","when"],"mappings":"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","sourcesContent":["(function() {\r\n\tangular.module('crud',\r\n\t\t['ngRoute', 'ngSanitize']\r\n\t);\r\n})();","(function() {\r\n\tangular.module('crud')\r\n\r\n\t// The CrudCtrl is instantiated every time the route changes\r\n\t.controller('CrudCtrl', ['$scope', '$http', '$route', '$location',\r\n\t\tfunction($scope, $http, $route, $location) {\r\n\t\t// Get collection name and store it in $scope._crud.collectionName\r\n\t\tvar paths = $route.current.originalPath.split('/');\r\n\t\t$scope._crud.collectionName = $route.current.collection || paths[1];\r\n\t\t// Get the metadata for the current collection and store it in $scope._crud.collectionMeta\r\n\t\t$scope._crud.collectionMeta = $scope._crud.metaData[$scope._crud.collectionName];\r\n\t\t// Get the action from the route and store it in $scope._crud.action\r\n\t\t$scope._crud.action = $route.current.action || paths[2] || 'read';\r\n\t\tconsole.log('Collection:', $scope._crud.collectionName, ' -  Action:', $scope._crud.action);\r\n\t\t// Process action\r\n\t\tswitch ($scope._crud.action) {\r\n\t\t\tcase 'create':\r\n\t\t\t\t$scope.item = {};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'read':\r\n\t\t\t\t$http.get('/data/' + $scope._crud.collectionName)\r\n\t\t\t\t.success(function(data) {\r\n\t\t\t\t\t// Stores the item list from the DB into the items property in the parent scope\r\n\t\t\t\t\t$scope.$parent.items = data.items;\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'update':\r\n\t\t\t\t// Stores the currently selected item into $scope.item\r\n\t\t\t\t$scope.item = $scope.$parent.items[$route.current.params.id];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('Invalid action: ' + $scope._crud.action);\r\n\t\t}\r\n\r\n\t\t// Creates or updates the item in scope\r\n\t\t// Invoked by the submit button of the New item / modify item form\r\n\t\t$scope.doSubmit = function() {\r\n\t\t\tvar verb = $scope._crud.action == 'create' ? 'post' : 'put';\r\n\t\t\thttpAction(verb, $scope.item);\r\n\t\t};\r\n\r\n\t\t// Deletes the item in scope\r\n\t\t// Invoked by the confirmation button in the delete popup dialog\r\n\t\t$scope.doDelete = function(modalId) {\r\n\t\t\t$('#' + modalId).on('hidden.bs.modal', function() {\r\n\t\t\t\tconsole.log('Deleting ', $scope.toDelete);\r\n\t\t\t\thttpAction('delete', undefined, '/' + $scope.toDelete._id)\r\n\t\t\t\t.success(function() {\r\n\t\t\t\t\t$route.reload();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// Stores the item to be deleted\r\n\t\t// Invoked by the \"delete\" action button in the table\r\n\t\t$scope.prepareDelete = function(idx) {\r\n\t\t\t$scope.toDelete = $scope.$parent.items[idx];\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\t//------------------------- Privates -------------------------\r\n\t;\r\n\r\n\tfunction httpAction(verb, item, extraPath) {\r\n\t\textraPath = extraPath || '';\r\n\t\treturn $http[verb]('/data/' + $scope._crud.collectionName + extraPath, item)\r\n\t\t.success(function(data) {\r\n\t\t\tconsole.log(verb.toUpperCase() + ' OK: ', data);\r\n\t\t\t$location.path($scope._crud.collectionName);\r\n\t\t})\r\n\t\t.error(function(data, status, headers, config) {\r\n\t\t\t//TODO report error to end user\r\n\t\t\tconsole.error(verb.toUpperCase() + ' Error: ', data, status, headers, config);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n})();","(function() {\r\n\tangular.module('crud')\r\n\r\n\t//------------------------- Directives -------------------------\r\n\r\n\t.directive('crudInput', function() {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: formInputScope,\r\n\t\t\tlink: formInputLink,\r\n\t\t\ttemplate: formInputHeader +\r\n\t\t\t\t'<input ng-model=\"model\" class=\"form-control\" id=\"{{id}}_input\" placeholder=\"{{placeholder}}\">' +\r\n\t\t\t\tformInputFooter\r\n\t\t};\r\n\t})\r\n\r\n\t.directive('crudTextArea', function() {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: formInputScope,\r\n\t\t\tlink: formInputLink,\r\n\t\t\ttemplate: formInputHeader +\r\n\t\t\t\t'<textarea ng-model=\"model\" class=\"form-control\" id=\"{{id}}_textarea\" placeholder=\"{{placeholder}}\">' +\r\n\t\t\t\t'</textarea>' +\r\n\t\t\t\tformInputFooter\r\n\t\t\t};\r\n\t})\r\n\r\n\t.directive('crudSelect', function() {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: formInputScope,\r\n\t\t\tlink: function(scope, element, attrs) {\r\n\t\t\t\tformInputLink(scope, element, attrs);\r\n\t\t\t\tvar fieldMeta = scope.$parent.$eval('_crud.collectionMeta.fields[field]');\r\n\t\t\t\tscope[attrs.id + '_listModel'] = fieldMeta.listModel;\r\n\t\t\t},\r\n\t\t\ttemplate: formInputHeader +\r\n\t\t\t\t'<select ng-model=\"model\" class=\"form-control\" id=\"{{id}}_select\"' +\r\n\t\t\t\t\t'ng-options=\"option.label for option in {{id}}_listModel\">' +\r\n\t\t\t\t'</select>' +\r\n\t\t\t\tformInputFooter\r\n\t\t};\r\n\t})\r\n\r\n\t.directive('crudFormButtons', function() {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\ttemplate:\r\n\t\t\t\t'<div class=\"form-group\">' +\r\n\t\t\t\t\t'<div class=\"col-sm-12 text-center\">' +\r\n\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-primary\" ng-click=\"doSubmit()\">' +\r\n\t\t\t\t\t\t\t\"{{ action == 'create' ? 'Create' : 'Update' }}\" +\r\n\t\t\t\t\t\t'</button>' +\r\n\t\t\t\t\t\t'&nbsp;' +\r\n\t\t\t\t\t\t'<a href=\"#/{{_crud.collectionName}}\" class=\"btn btn-default\">Cancel</a>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t'</div>'\r\n\t\t};\r\n\t})\r\n\r\n\t.directive('crudTable', function() {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\ttemplateUrl: 'templates/crud-table.html'\r\n\t\t};\r\n\t})\r\n\r\n\t// Super generic form input that compiles into the specific input as specified in field metadata\r\n\t.directive('crudFormInput', ['$compile', function($compile) {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tlink: function(scope, element, attrs) {\r\n\t\t\t\tvar fieldMeta = scope.$eval('_crud.collectionMeta.fields[field]');\r\n\t\t\t\tvar tag = fieldMeta.inputType;\r\n\t\t\t\tvar html = '<' + tag + ' id=\"crud_{{field}}\" ' +\r\n\t\t\t\t\t'label=\"{{_crud.collectionMeta.fields[field].label}}\" ' +\r\n\t\t\t\t\t'placeholder=\"{{_crud.collectionMeta.fields[field].placeholder}}\" model=\"item[field]\" ' +\r\n\t\t\t\t\t'autofocus=\"{{ $first ? \\'true\\' : \\'false\\' }}\"';\r\n\t\t\t\tvar inputAttrs = fieldMeta.inputAttrs;\r\n\t\t\t\tfor (var prop in inputAttrs)\r\n\t\t\t\t\tif (inputAttrs.hasOwnProperty(prop))\r\n\t\t\t\t\t\thtml += ' ' + prop + '=\"' + inputAttrs[prop] + '\"';\r\n\t\t\t\thtml += '></' + tag + '>';\r\n\t\t\t\telement.append($compile(html)(scope));\r\n\t\t\t}\r\n\t\t}\r\n\t}])\r\n\r\n\r\n\t//------------------------- Privates -------------------------\r\n\t;\r\n\r\n\tvar formInputScope = {\r\n\t\tlabel: '@',\r\n\t\tplaceholder: '@',\r\n\t\tmodel: '=',\r\n\t\tid: '@',\r\n\t\tautofocus: '@'\r\n\t};\r\n\r\n\tvar formInputLink = function(scope, element, attrs) {\r\n\t\t// Warning: this line requires jQuery, otherwise a manual search would be required\r\n\t\tvar inputElement = element.find('.form-control');\r\n\t\t// Set focus if autofocus attribute is present\r\n\t\tif (attrs.hasOwnProperty('autofocus') && attrs.autofocus != 'false') {\r\n\t\t\t// setTimeout without time parameter defers to after DOM rendering\r\n\t\t\tsetTimeout(function() { inputElement.focus(); });\r\n\t\t}\r\n\t\t// Copy all extra attributes into the input element\r\n\t\tfor (var prop in attrs)\r\n\t\t\tif (attrs.hasOwnProperty(prop) && prop[0]!='$' && !scope[prop])\r\n\t\t\t\tinputElement.attr(prop, attrs[prop]);\r\n\t};\r\n\r\n\tvar formInputHeader =\r\n\t\t'<div class=\"form-group\">' +\r\n\t\t\t'<label for=\"{{id}}-input\" class=\"col-sm-3 control-label\">{{label}}</label>' +\r\n\t\t\t\t'<div class=\"col-sm-9\">';\r\n\r\n\tvar formInputFooter = '</div></div>';\r\n\r\n})();","(function() {\n\tangular.module('crud')\n\n\t.filter('singular', ['crud', function(crud) {\n\t\treturn crud.singularize;\n\t}])\n\n})();","(function() {\r\n\tangular.module('crud')\r\n\r\n\t.provider('crud', function() {\r\n\t\tthis.$get = function() {\r\n\t\t\t// Accessible via 'crud' injected parameter\r\n\t\t\treturn {\r\n\t\t\t\tsetMetaData: setMetaData,\r\n\t\t\t\tsingularize: singularize\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// this.* is accessible via 'crudProvider' injected parameter\r\n\t\tthis.routesForCollection = routesForCollection;\r\n\t})\r\n\r\n\r\n\t//------------------------- Privates -------------------------\r\n\t;\r\n\r\n\tfunction setMetaData($scope, collectionMetadata) {\r\n\t\tcompleteMetadataDefaults(collectionMetadata);\r\n\t\t$scope._crud = $scope._crud || {};\r\n\t\t$scope._crud.metaData = collectionMetadata;\r\n\t}\r\n\r\n\tfunction completeMetadataDefaults(metadata) {\r\n\t\tfor (var collName in metadata)\r\n\t\t\tif (metadata.hasOwnProperty(collName)) {\r\n\t\t\t\t// Collection defaults\r\n\t\t\t\tvar collMeta = metadata[collName];\r\n\t\t\t\tcollMeta.collection = collName;\r\n\t\t\t\tif (!collMeta.tableName) collMeta.tableName = ucFirst(collName);\r\n\t\t\t\tif (!collMeta.itemName) collMeta.itemName = singularize(collName);\r\n\t\t\t\tif (!collMeta.fieldOrder)\r\n\t\t\t\t\tcollMeta.fieldOrder = Object.keys(collMeta.fields);\r\n\t\t\t\t// Field defaults\r\n\t\t\t\tfor (var i = 0; i < collMeta.fieldOrder.length; i++) {\r\n\t\t\t\t\tcompleteFieldDefaults(collMeta.fields, collMeta.fieldOrder[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\tfunction completeFieldDefaults(fields, name) {\r\n\t\tvar field = fields[name];\r\n\t\t// Form defaults\r\n\t\tif (field.label === undefined) field.label = ucFirst(name);\r\n\t\tif (!field.inputType) field.inputType = 'crud-input';\r\n\t\tif (!field.inputAttrs) field.inputAttrs = {};\r\n\t\t// Table defaults\r\n\t\tif (field.colLabel === undefined) field.colLabel = field.label;\r\n\t\tif (!field.cellRender) field.cellRender = identity;\r\n\t\tif (field.showInTable === undefined) field.showInTable = true;\r\n\t}\r\n\r\n\tfunction identity(x) { return x }\r\n\r\n\tfunction ucFirst(str) {\r\n\t\treturn str.charAt(0).toUpperCase() + str.substr(1);\r\n\t}\r\n\r\n\tfunction singularize(plural) {\r\n\t\tplural = plural.toLowerCase();\r\n\t\tif (plural[plural.length - 1] == 's')\r\n\t\t\treturn plural.substr(0, plural.length - 1);\r\n\t\t// TODO: complete with most common irregular plurals\r\n\t\tvar irregulars = {\r\n\t\t\tmice: 'mouse', teeth: 'tooth'\r\n\t\t}\r\n\t\tvar singular = irregulars[plural];\r\n\t\tif (!singular)\r\n\t\t\tconsole.warn('Warning: singular of \"', plural, '\" not found');\r\n\t\treturn singular ? singular : plural;\r\n\t}\r\n\r\n\tfunction routesForCollection($routeProvider, collection, ctrl) {\r\n\t\tctrl = ctrl || 'CrudCtrl';\r\n\t\t$routeProvider.when('/' + collection, {\r\n\t\t\ttemplateUrl: 'templates/crud-table-view.html',\r\n\t\t\tcontroller: ctrl\r\n\t\t})\r\n\t\t.when('/' + collection + '/create', {\r\n\t\t\ttemplateUrl: 'templates/crud-form-view.html',\r\n\t\t\tcontroller: ctrl\r\n\t\t})\r\n\t\t.when('/' + collection + '/update/:id', {\r\n\t\t\ttemplateUrl: 'templates/crud-form-view.html',\r\n\t\t\tcontroller: ctrl\r\n\t\t})\r\n\t}\r\n\r\n})();"]}